<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #f8f8f2;
  background-color: #272822;
}
.highlight .err {
  color: #151515;
  background-color: #ac4142;
}
.highlight .c, .highlight .cd, .highlight .cm, .highlight .c1, .highlight .cs {
  color: #505050;
}
.highlight .cp {
  color: #f4bf75;
}
.highlight .nt {
  color: #f4bf75;
}
.highlight .o, .highlight .ow {
  color: #d0d0d0;
}
.highlight .p, .highlight .pi {
  color: #d0d0d0;
}
.highlight .gi {
  color: #90a959;
}
.highlight .gd {
  color: #ac4142;
}
.highlight .gh {
  color: #6a9fb5;
  background-color: #151515;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #aa759f;
}
.highlight .kc {
  color: #d28445;
}
.highlight .kt {
  color: #d28445;
}
.highlight .kd {
  color: #d28445;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #90a959;
}
.highlight .sr {
  color: #75b5aa;
}
.highlight .si {
  color: #8f5536;
}
.highlight .se {
  color: #8f5536;
}
.highlight .nn {
  color: #f4bf75;
}
.highlight .nc {
  color: #f4bf75;
}
.highlight .no {
  color: #f4bf75;
}
.highlight .na {
  color: #6a9fb5;
}
.highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mb, .highlight .mx {
  color: #90a959;
}
.highlight .ss {
  color: #90a959;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;,&quot;javascript&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
              <a href="#" data-language-name="javascript">javascript</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='https://github.com/tripit/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="introduction">Introduction</h1>
<pre class="highlight javascript"><code>
<span class="c1">// More information available on our github page at</span>
<span class="c1">// https://github.com/littlebits/cloud-client-api-http</span>

<span class="nx">npm</span> <span class="nx">install</span> <span class="o">--</span><span class="nx">save</span> <span class="err">@</span><span class="nx">littlebits</span><span class="o">/</span><span class="nx">cloud</span><span class="o">-</span><span class="nx">http</span>
</code></pre>

<p>Welcome to the litteBits Cloud API! You can use our API to access
litteBits Cloud API endpoints to manage your cloudbits.</p>

<p>We have language bindings in Shell, Ruby, and Python! You can view
code examples in the dark area to the right, and you can switch the
programming language of the examples with the tabs in the top right.</p>

<p>This example API documentation page was created with
<a href="https://github.com/tripit/slate">Slate</a>. Feel free to edit it and use
it as a base for your own API&rsquo;s documentation.</p>

<h1 id="rate-limiting">Rate limiting</h1>

<p>The littleBits Cloud API is rate limited to prevent abuse that would
degrade our ability to maintain consistent API performance for all
users. By default, each API key or app is rate limited at 1800
requests per hour. If your requests are being rate limited, HTTP
response code 429 will be returned with an rate_limit_exceeded error.</p>

<h1 id="authentication">Authentication</h1>

<blockquote>
<p>To authorize, use this code:</p>
</blockquote>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">api</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'littlebits-cloud-http'</span><span class="p">)</span>
      <span class="p">.</span><span class="nx">defaults</span><span class="p">({</span> <span class="na">access_token</span><span class="p">:</span> <span class="s1">'meowmeowmeow'</span> <span class="p">})</span>
</code></pre>
<pre class="highlight shell"><code><span class="c"># With shell, you can just pass the correct header with each request</span>
curl <span class="s2">"https://api-http.littlebitscloud.cc"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer meowmeowmeow"</span>
</code></pre>

<blockquote>
<p>Make sure to replace <code class="prettyprint">meowmeowmeow</code> with your API key.</p>
</blockquote>

<p>litteBits uses API keys to allow access to the API. You get you API
key at our <a href="https://control.littlebitscloud.cc">cloud control</a>.</p>

<p>littleBits expects for the API key to be included in all API requests
to the server in a header that looks like the following:</p>

<p><code class="prettyprint">Authorization: Bearer meowmeowmeow</code></p>

<aside class="notice">
You must replace <code>meowmeowmeow</code> with your personal API key.
</aside>

          <h1 id="devices">Devices</h1>

<h2 id="get-all-your-devices">Get All Your Devices</h2>
<pre class="highlight javascript"><code><span class="nx">api</span><span class="p">.</span><span class="nx">devices</span><span class="p">()</span>
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api-http.littlebitscloud.cc/v2/devices"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer meowmeowmeow"</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my cloudbit 1"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00e040000001"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nt">"is_connected"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"subscriptions"</span><span class="p">:[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"publisher_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00e040000002"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"subscriber_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00e040000001"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"publisher_events"</span><span class="p">:[</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"amplitude"</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
                </span><span class="nt">"publisher_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00e040000001"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"subscriber_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://yourserver.com/endpoint"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"publisher_events"</span><span class="p">:[</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"amplitude:delta:ignite"</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"subscribers"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"input_interval_ms"</span><span class="p">:</span><span class="w"> </span><span class="mi">750</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my cloudbit 2"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00e040000002"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nt">"is_connected"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"subscriptions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"subscribers"</span><span class="p">:[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"publisher_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00e040000002"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"subscriber_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00e040000001"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"publisher_events"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"amplitude"</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"input_interval_ms"</span><span class="p">:</span><span class="mi">750</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<h2 id="get-a-specific-device">Get a Specific Device</h2>
<pre class="highlight javascript"><code><span class="nx">api</span><span class="p">.</span><span class="nx">devices</span><span class="p">(</span><span class="s1">'00e040000001'</span><span class="p">)</span>
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api-http.littlebitscloud.cc/v2/devices/00e040000001"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: meowmeowmeow"</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
        </span><span class="nt">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my cloudbit 1"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00e040000001"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nt">"is_connected"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"subscriptions"</span><span class="p">:[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"publisher_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00e040000002"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"subscriber_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00e040000001"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"publisher_events"</span><span class="p">:[</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"amplitude"</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
                </span><span class="nt">"publisher_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00e040000001"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"subscriber_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://yourserver.com/endpoint"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"publisher_events"</span><span class="p">:[</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"amplitude:delta:ignite"</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"subscribers"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"input_interval_ms"</span><span class="p">:</span><span class="w"> </span><span class="mi">750</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint retrieves a specific device.</p>

<h2 id="update-device-settings">Update Device Settings</h2>
<pre class="highlight shell"><code>curl <span class="s2">"https://api-http.littlebitscloud.cc/v2/devices/00e040000001"</span> <span class="se">\</span>
  -X PUT <span class="se">\</span>
  -H <span class="s2">"Authorization: meowmeowmeow"</span> <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{ "update": { "label": "cloudbit", "input_interval_ms": 250 } }'</span>
</code></pre>

<p>This endpoint updates a specific device.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PUT https://api-http.littlebitscloud.cc/v2/devices/&lt;ID&gt;</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ID</td>
<td>The ID of the device to update</td>
</tr>
</tbody></table>

<h3 id="json-payload">JSON Payload</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>label</td>
<td>The new label for this device. Default is &ldquo;cloudbit&rdquo;</td>
</tr>
<tr>
<td>input_interval_ms</td>
<td>Interval in milliseconds when input is read and broadcast. Default is 250 and the minimum is 200.</td>
</tr>
</tbody></table>

<h2 id="output-voltage-on-device">Output voltage on device</h2>
<pre class="highlight javascript"><code><span class="nx">api</span><span class="p">.</span><span class="nx">ouput</span><span class="p">({</span> <span class="na">device_id</span><span class="p">:</span> <span class="mi">00</span><span class="nx">e040000001</span><span class="p">,</span> <span class="na">percent</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span> <span class="na">duration_ms</span><span class="p">:</span> <span class="mi">3000</span> <span class="p">}</span>
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api-http.littlebitscloud.cc/v2/devices/00e040000001/output"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Authorization: meowmeowmeow"</span> <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{ "percent": 100, "duration_ms": 3000 }'</span>
</code></pre>

<p>This endpoint outputs voltage on a device.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api-http.littlebitscloud.cc/v2/devices/&lt;ID&gt;/output</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ID</td>
<td>The ID of the device to send output to</td>
</tr>
</tbody></table>

<h3 id="json-payload">JSON Payload</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>percent</td>
<td>A percent of the maximum current output between 0 and 100. Default is 100.</td>
</tr>
<tr>
<td>duration_ms</td>
<td>Output will be sustained for the given milliseconds. If duration_ms is -1 it will last forever or until another ouput is received by device. Maximum is 32000 and default is 3000 (3 seconds).</td>
</tr>
</tbody></table>

          <h1 id="subscriptions">Subscriptions</h1>

<h2 id="create-subscription">Create subscription</h2>

<p>Use this endpoint to create a subscription between devices or to receive events in a HTTP server that you control.</p>
<pre class="highlight javascript"><code><span class="nx">api</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">({</span> <span class="na">publisher_id</span><span class="p">:</span> <span class="mi">00</span><span class="nx">e040000001</span><span class="p">,</span> <span class="na">subscriber_id</span><span class="p">:</span> <span class="mi">00</span><span class="nx">e040000002</span> <span class="p">})</span>

<span class="nx">api</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">({</span> <span class="na">publisher_id</span><span class="p">:</span> <span class="mi">00</span><span class="nx">e040000001</span><span class="p">,</span> <span class="na">subscriber_id</span><span class="p">:</span> <span class="mi">00</span><span class="nx">e040000002</span> <span class="p">})</span>

<span class="nx">api</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">({</span>
    <span class="na">publisher_id</span><span class="p">:</span> <span class="mi">00</span><span class="nx">e040000001</span><span class="p">,</span>
    <span class="na">subscriber_id</span><span class="p">:</span> <span class="mi">00</span><span class="nx">e040000002</span><span class="p">,</span>
    <span class="na">publisher_events</span><span class="p">:</span> <span class="p">[</span><span class="s1">'amplitude'</span><span class="p">]</span>
<span class="p">})</span>
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api-http.littlebitscloud.cc/v2/subscriptions"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Authorization: meowmeowmeow"</span> <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{ "publisher_id": "00e040000001" ,"subscriber_id": "00e040000002" }'</span>

curl <span class="s2">"https://api-http.littlebitscloud.cc/v2/subscriptions"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Authorization: meowmeowmeow"</span> <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{ "publisher_id": "00e040000001" ,"subscriber_id": "http://yourserver.com/endpoint" }'</span>

curl <span class="s2">"https://api-http.littlebitscloud.cc/v2/subscriptions"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Authorization: meowmeowmeow"</span> <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{ "publisher_id": "00e040000001" ,"subscriber_id": "00e040000002", "publisher_events: "['</span>amplitude<span class="s1">']" }'</span>
</code></pre>

<blockquote>
<p>The above command returns the JSON that was POSTed.</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"publisher_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00e040000001"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"subscriber_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00e040000002"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"publisher_events"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"amplitude"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api-http.littlebitscloud.cc/v2/subscriptions</code></p>

<h3 id="json-payload">JSON Payload</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>publisher_id</td>
<td>Device id of publisher.</td>
</tr>
<tr>
<td>subscriber_id</td>
<td>Device id or callback URI. You must ensure that URI is accessible to the Internet.</td>
</tr>
<tr>
<td>publisher_events</td>
<td>Events to subscribe to. Defaults to [&ldquo;amplitude:delta:ignite&rdquo;]</td>
</tr>
</tbody></table>

<p>Available events to subscribe to.</p>

<table><thead>
<tr>
<th>Event</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>amplitude</td>
<td>when there is any voltage (catch-all, default)</td>
</tr>
<tr>
<td>amplitude:delta:sustain</td>
<td>when high voltage is constant (eg button being held)</td>
</tr>
<tr>
<td>amplitude:delta:ignite</td>
<td>when there is significant voltage jump (eg button press)</td>
</tr>
<tr>
<td>amplitude:delta:release</td>
<td>when there is significant voltage drop (eg button release)</td>
</tr>
<tr>
<td>amplitude:delta:nap</td>
<td>when low voltage is constant (eg idle bitSnap system)</td>
</tr>
<tr>
<td>amplitude:level:active</td>
<td>generic, when there is high voltage (eg during a sustain or maybe just ignited)</td>
</tr>
<tr>
<td>amplitude:level:idle</td>
<td>generic, when there is low voltage (eg during a long nap or maybe just released)</td>
</tr>
</tbody></table>

<h2 id="list-subscriptions">List subscriptions</h2>
<pre class="highlight javascript"><code><span class="nx">api</span><span class="p">.</span><span class="nx">subscriptions</span><span class="p">({</span> <span class="na">publisher_id</span><span class="p">:</span> <span class="s2">"00e040000001"</span> <span class="p">})</span>

<span class="nx">api</span><span class="p">.</span><span class="nx">subscriptions</span><span class="p">({</span> <span class="na">subscriber_id</span><span class="p">:</span> <span class="s2">"00e040000002"</span> <span class="p">})</span>

<span class="nx">api</span><span class="p">.</span><span class="nx">subscriptions</span><span class="p">({</span> <span class="na">publisher_id</span><span class="p">:</span> <span class="s2">"00e040000001"</span><span class="p">,</span> <span class="na">subscriber_id</span><span class="p">:</span> <span class="s2">"00e040000002"</span> <span class="p">})</span>

</code></pre>
<pre class="highlight shell"><code>
curl <span class="s2">"https://api-http.littlebitscloud.cc/v2/subscriptions?publisher_id=00e040000001"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer meowmeowmeow"</span>

curl <span class="s2">"https://api-http.littlebitscloud.cc/v2/subscriptions?subscriber_id=00e040000002"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer meowmeowmeow"</span>

curl <span class="s2">"https://api-http.littlebitscloud.cc/v2/subscriptions?publisher_id=00e040000001&amp;subscriber_id=00e040000002"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer meowmeowmeow"</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"publisher_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00e040000001"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"subscriber_id"</span><span class="p">:</span><span class="s2">"00e040000002"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"publisher_events"</span><span class="p">:[</span><span class="s2">"amplitude"</span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"publisher_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00e040000001"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"subscriber_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://yourserver.com/endpoint"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"publisher_events"</span><span class="p">:[</span><span class="s2">"amplitude:delta:ignite"</span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api-http.littlebitscloud.cc/v2/subscriptions?publisher_id=&lt;ID&gt;&amp;subscriber_id=&lt;ID or HTTP endpoint&gt;</code></p>

<h3 id="request-parameters">Request Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>publisher_id</td>
<td>List subscriptions where given device is a publisher</td>
</tr>
<tr>
<td>subscriber_id</td>
<td>List subscriptions where given device is a subscriber. It can be a device ID or a callback URI.</td>
</tr>
</tbody></table>

<p>You can provide publisher_id, subscriber_id or both.</p>

<h2 id="delete-a-subscription">Delete a Subscription</h2>

<p>Remove a subscription between a publisher and a subscriber.</p>
<pre class="highlight shell"><code>curl <span class="s2">"https://api-http.littlebitscloud.cc/v2/subscriptions"</span> <span class="se">\</span>
  -X DELETE <span class="se">\</span>
  -H <span class="s2">"Authorization: meowmeowmeow"</span> <span class="se">\</span>
  -H <span class="s2">"Content-type: application/json"</span> <span class="se">\</span>
  -d <span class="s1">'{ "publisher_id": "00e040000001" ,"subscriber_id": "http://yourserver.com/endpoint" }'</span>

</code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE https://api-http.littlebitscloud.cc/v2/subscriptions</code></p>

<h3 id="json-payload">JSON Payload</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>subscriber_id</td>
<td>Device id or callback URI.</td>
</tr>
<tr>
<td>publisher_id</td>
<td>Device id of publisher.</td>
</tr>
</tbody></table>

          <h1 id="errors">Errors</h1>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request &ndash; Your request is badly formed</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; You do not have permission to access that device</td>
</tr>
<tr>
<td>404</td>
<td>Not Found &ndash; The specified device could not be found</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed &ndash; You tried to access a device with an invalid method</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable &ndash; You requested a format that isn&rsquo;t json</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests &ndash; You&rsquo;re requesting too many kittens! Slow down!</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error &ndash; We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable &ndash; We&rsquo;re temporarially offline for maintanance. Please try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
                <a href="#" data-language-name="javascript">javascript</a>
          </div>
      </div>
    </div>
  </body>
</html>
